---
layout: _post
title: TCP窗口管理
date: 2019-06-06 00:10:29
tags: TCP
---

# TCP流量控制
## 窗口控制
tcp的流量控制是基于窗口来管理的。TCP通过改变发送窗口的大小来控制发送端的发送速率，接收端通过改变发送端的发送窗口大小来控制发送速率。因为接收端需要某种方式来通知发送端希望的发送窗口大小，我们称之为窗口通告or窗口更新。窗口更新一般特指窗口大小发生变化时通知新窗口的时间。TCP是双工通信，因为两端都会维护一个发送窗和一个接收窗
## 窗口信息交互
<!--  插入交互图片 -->
客户端的发送窗口：通过服务端到客户端的ACK和WIN来更新信息
客户端的接收窗口：通过服务端到he护短的seq和Data来更新信息
服务端的发送窗口：通过客户端到服务端的ACK和WIN来更新信息
服务端的接收窗口：通过客户端到服务端的seq和Data来更新信息
## 发送端滑动窗口
<!--  插入图片 -->
* 已发送&收到ACK的数据
* 已发送&未收到ACK的数据
* 未发送&准备发送的数据
* 未发送&未准备的数据

## 接收端滑动窗口
<!--  插入图片 -->
* 已接收并回复了ACK
* 未接收但正准备接收or已经接收但内陆序列号不联系
* 未准备接收
